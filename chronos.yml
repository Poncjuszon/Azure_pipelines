
trigger:
- none

pr:
- none

pool:
  vmImage: windows-2019

#parameters:
#  - name: Configuration
#    displayName: configuration of a called pipeline
#    type: string
#    default: "{
#                 'resources': {
#                     'repositories': {
#                         'self': {
#                             'refName': 'refs/heads/main'
#                         }
#                     }
#                 },
#                 'templateParameters': {
#                     
#                 }
#             }"

stages:
  - stage: QA3
    displayName: Run cycle for QA3
    lockBehavior: sequential
    jobs:
      - job: dupa
        displayName: sdsdsd
        steps:
          - task: RunPipelines@2
            inputs:
              serviceConnection: 'ematpil'
              project: 'ematpil'
              folderPath: '\'
              buildDefinition: 'EnableEnv'
              targetType: 'inline'
              buildParameters: '[]'
              customPrefix: '11'
              waitForQueuedBuildsToFinish: true
              waitRefreshTime: '30'
              waitTimeOut: '120'
              storeInOutputVariable: false
          
#      - template: templates/Hermes.yml
#        parameters:
#          PipelineName: EnableEnv
#          TimeToWait: 1
#          Configuration: "{
#                 'resources': {
#                     'repositories': {
#                         'self': {
#                             'refName': 'refs/heads/main'
#                         }
#                     }
#                 },
#                 'templateParameters': {
#                     'environment': 'DigitalHub-QA3'
#                 }
#             }"
#      - template: templates/Hermes.yml
#        parameters:
#          PipelineName: Deployment
#          TimeToWait: 1
#          Configuration: "{
#                 'resources': {
#                     'repositories': {
#                         'self': {
#                             'refName': 'refs/heads/main'
#                         }
#                     }
#                 },
#                 'templateParameters': {
#                     'environment': 'DigitalHub-QA3'
#                 }
#             }"
#      - template: templates/Hermes.yml
#        parameters:
#          PipelineName: Regresion
#          TimeToWait: 1
#          Configuration: "{
#                 'resources': {
#                     'repositories': {
#                         'self': {
#                             'refName': 'refs/heads/main'
#                         }
#                     }
#                 },
#                 'templateParameters': {
#                     'environment': 'DigitalHub-QA3'
#                 }
#             }"